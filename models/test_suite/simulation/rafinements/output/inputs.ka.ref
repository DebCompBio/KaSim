%def: "seed" "16602"
%def: "newSyntax" "true"
%def: "dumpIfDeadlocked" "true"
%def: "maxConsecutiveClash" "2"
%def: "plotPeriod" "0.008" "t.u."
%def: "outputFileName" "data.tsv"

%agent: A(b!a.B, d!a.D)
%agent: B(a!b.A, c!b.C)
%agent: C(b!c.B, d!c.D)
%agent: D(c!d.C, a!d.A)

%var:/*0*/ 'un' |A(b!1, d!2), D(c!3, a!2), C(b!4, d!3), B(a!1, c!4)|
%var:/*1*/ 'deux' |A(b!1, d!2), D(c!3, a!2), C(b!4, d!3), B(a!5, c!4), A(b!5, d!6), D(c!7, a!6), C(b!8, d!7), B(a!1, c!8)|
%var:/*2*/ 'trois' |A(b!1, d!2), D(c!3, a!2), C(b!4, d!3), B(a!5, c!4), A(b!5, d!6), D(c!7, a!6), C(b!8, d!7), B(a!9, c!8), A(b!9, d!10), D(c!11, a!10), C(b!12, d!11), B(a!1, c!12)|
%var:/*3*/ 'quatre' |A(b!1, d!2), D(c!3, a!2), C(b!4, d!3), B(a!5, c!4), A(b!5, d!6), D(c!7, a!6), C(b!8, d!7), B(a!9, c!8), A(b!9, d!10), D(c!11, a!10), C(b!12, d!11), B(a!13, c!12), A(b!13, d!14), D(c!15, a!14), C(b!16, d!15), B(a!1, c!16)|
%plot: [T]
%plot: un
%plot: (deux / 2)
%plot: (trois / 3)
%plot: (quatre / 4)

'AB' A(b!./!1), B(a!./!1) @ 0.01
'AB_op' A(b!1/!.), B(a!1/!.) @ 1
'BC' B(c!./!1), C(b!./!1) @ 0.01
'BC_op' B(c!1/!.), C(b!1/!.) @ 1
'CD' C(d!./!1), D(c!./!1) @ 0.01
'CD_op' C(d!1/!.), D(c!1/!.) @ 1
'DA' D(a!./!1), A(d!./!1) @ 0.01
'DA_op' D(a!1/!.), A(d!1/!.) @ 1
'CloseAB' A(b!./!2, d!1), B(a!./!2, c!3), C(b!3, d!4), D(c!4, a!1) @ 100.
'CloseBC' A(b!2, d!1), B(a!2, c!./!3), C(b!./!3, d!4), D(c!4, a!1) @ 100.
'CloseCD' A(b!2, d!1), B(a!2, c!3), C(b!3, d!./!4), D(c!./!4, a!1) @ 100.
'CloseDA' A(b!2, d!./!1), B(a!2, c!3), C(b!3, d!4), D(c!4, a!./!1) @ 100.
'close2AB' A(b!./!2, d!1), B(a!./!2, c!3), C(b!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!1) @ 100.
'close2BC' A(b!2, d!1), B(a!2, c!./!3), C(b!./!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!1) @ 100.
'close2CD' A(b!2, d!1), B(a!2, c!3), C(b!3, d!./!4), D(c!./!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!1) @ 100.
'close2DA' A(b!2, d!./!1), B(a!2, c!3), C(b!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!./!1) @ 100.
'close3AB' A(b!./!2, d!1), B(a!./!2, c!3), C(b!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!9), A(b!10, d!9), B(a!10, c!11), C(b!11, d!12), D(c!12, a!1) @ 100.
'close3BC' A(b!2, d!1), B(a!2, c!./!3), C(b!./!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!9), A(b!10, d!9), B(a!10, c!11), C(b!11, d!12), D(c!12, a!1) @ 100.
'close3CD' A(b!2, d!1), B(a!2, c!3), C(b!3, d!./!4), D(c!./!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!9), A(b!10, d!9), B(a!10, c!11), C(b!11, d!12), D(c!12, a!1) @ 100.
'close3DA' A(b!2, d!./!1), B(a!2, c!3), C(b!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!9), A(b!10, d!9), B(a!10, c!11), C(b!11, d!12), D(c!12, a!./!1) @ 100.
'close4AB' A(b!./!2, d!1), B(a!./!2, c!3), C(b!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!9), A(b!10, d!9), B(a!10, c!11), C(b!11, d!12), D(c!12, a!13), A(b!14, d!13), B(a!14, c!15), C(b!15, d!16), D(c!16, a!1) @ 100.
'close4BC' A(b!2, d!1), B(a!2, c!./!3), C(b!./!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!9), A(b!10, d!9), B(a!10, c!11), C(b!11, d!12), D(c!12, a!13), A(b!14, d!13), B(a!14, c!15), C(b!15, d!16), D(c!16, a!1) @ 100.
'close4CD' A(b!2, d!1), B(a!2, c!3), C(b!3, d!./!4), D(c!./!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!9), A(b!10, d!9), B(a!10, c!11), C(b!11, d!12), D(c!12, a!13), A(b!14, d!13), B(a!14, c!15), C(b!15, d!16), D(c!16, a!1) @ 100.
'close4DA' A(b!2, d!./!1), B(a!2, c!3), C(b!3, d!4), D(c!4, a!5), A(b!6, d!5), B(a!6, c!7), C(b!7, d!8), D(c!8, a!9), A(b!10, d!9), B(a!10, c!11), C(b!11, d!12), D(c!12, a!13), A(b!14, d!13), B(a!14, c!15), C(b!15, d!16), D(c!16, a!./!1) @ 100.

/*0*/%mod: (([E] = inf) || ([T] = 2.)) do $SNAPSHOT "final.ka"

%init: 10000 A(b, d), B(a, c), C(b, d), D(c, a)

%mod: [E] = 188787 do $STOP
