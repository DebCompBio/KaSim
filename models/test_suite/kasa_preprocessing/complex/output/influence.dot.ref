

digraph G{ 
node [shape=box, style=filled, fillcolor=lightskyblue];
"0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)" ; 
"1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost" ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" ; 
edge [color=green, arrowhead=normal];
"0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)" -> "1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)" -> "2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)"[label ="[2->2]"] ; 
"0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)" -> "3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost" -> "0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)"[label ="[0->0];[1->1]"] ; 
"1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost" -> "2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)"[label ="[0->0];[1->1]"] ; 
"1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost" -> "3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost"[label ="[0->0]"] ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" -> "0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)"[label ="[-2->0];[-1->1];[0->0];[1->1]"] ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" -> "1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" -> "2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)"[label ="[0->0];[1->1];[2->2]"] ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" -> "3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" -> "0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)"[label ="[0->0];[1->1]"] ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" -> "1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" -> "2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)"[label ="[0->0];[1->1];[2->2]"] ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" -> "3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
edge [color=red, arrowhead=tee];
"0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)" -> "0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)"[label =""] ; 
"0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)" -> "2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)"[label =""] ; 
"0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)" -> "3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost"[label =""] ; 
"1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost" -> "1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost"[label =""] ; 
"1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost" -> "2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)"[label =""] ; 
"1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost" -> "3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost"[label =""] ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" -> "0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)"[label =""] ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" -> "1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost"[label ="[-2->0];[-1->1]"] ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" -> "2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)"[label =""] ; 
"2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)" -> "3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost"[label ="[-2->0];[-1->1]"] ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" -> "0:A(x,y),B(x,y),Ghost->A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)"[label =""] ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" -> "1:A(x!1,y!2),B(x!1,y!2),C(x~u,y~p)->A(x,y),B(x,y),Ghost"[label =""] ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" -> "2:A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost->Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)"[label =""] ; 
"3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost" -> "3:Ghost,Ghost,Ghost,A(x!1,y),B(x!1,y!2),C(x~u!2,y~p)->A(y),B(y),C(x~u,y~p),Ghost,Ghost,Ghost"[label =""] ; 
}
