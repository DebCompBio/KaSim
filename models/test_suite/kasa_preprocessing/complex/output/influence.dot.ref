

digraph G{ 
node [shape=box, style=filled, fillcolor=lightskyblue];
"0:B(x,y),A(x,y),Ghost->Ghost" ; 
"1:Ghost->B(x,y),A(x,y),Ghost" ; 
"2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost" ; 
"3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost" ; 
edge [color=green, arrowhead=normal];
"0:B(x,y),A(x,y),Ghost->Ghost" -> "0:B(x,y),A(x,y),Ghost->Ghost"[label ="[1->0];[2->1]"] ; 
"0:B(x,y),A(x,y),Ghost->Ghost" -> "1:Ghost->B(x,y),A(x,y),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"0:B(x,y),A(x,y),Ghost->Ghost" -> "2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"0:B(x,y),A(x,y),Ghost->Ghost" -> "3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"1:Ghost->B(x,y),A(x,y),Ghost" -> "0:B(x,y),A(x,y),Ghost->Ghost"[label ="[0->0];[1->1]"] ; 
"1:Ghost->B(x,y),A(x,y),Ghost" -> "1:Ghost->B(x,y),A(x,y),Ghost"[label ="[0->1];[1->2]"] ; 
"1:Ghost->B(x,y),A(x,y),Ghost" -> "2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost"[label ="[0->1];[1->2]"] ; 
"1:Ghost->B(x,y),A(x,y),Ghost" -> "3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost"[label ="[0->1];[1->2]"] ; 
"2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost" -> "0:B(x,y),A(x,y),Ghost->Ghost"[label ="[-3->0];[-2->1];[1->0];[2->1]"] ; 
"2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost" -> "1:Ghost->B(x,y),A(x,y),Ghost"[label ="[1->1];[2->2]"] ; 
"2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost" -> "2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost"[label ="[1->1];[2->2]"] ; 
"2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost" -> "3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost" -> "0:B(x,y),A(x,y),Ghost->Ghost"[label ="[1->0];[2->1]"] ; 
"3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost" -> "1:Ghost->B(x,y),A(x,y),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost" -> "2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost" -> "3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost"[label ="[1->1];[2->2]"] ; 
edge [color=red, arrowhead=tee];
"0:B(x,y),A(x,y),Ghost->Ghost" -> "1:Ghost->B(x,y),A(x,y),Ghost"[label ="[0->1];[1->2]"] ; 
"0:B(x,y),A(x,y),Ghost->Ghost" -> "2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost"[label ="[0->1];[1->2]"] ; 
"0:B(x,y),A(x,y),Ghost->Ghost" -> "3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost"[label ="[0->1];[1->2]"] ; 
"1:Ghost->B(x,y),A(x,y),Ghost" -> "0:B(x,y),A(x,y),Ghost->Ghost"[label ="[1->0];[2->1]"] ; 
"1:Ghost->B(x,y),A(x,y),Ghost" -> "2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"1:Ghost->B(x,y),A(x,y),Ghost" -> "3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost"[label ="[0->0];[1->1];[2->2]"] ; 
"2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost" -> "0:B(x,y),A(x,y),Ghost->Ghost"[label ="[1->0];[2->1]"] ; 
"2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost" -> "1:Ghost->B(x,y),A(x,y),Ghost"[label ="[-3->1];[-2->2];[0->0];[1->1];[2->2]"] ; 
"2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost" -> "3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost"[label ="[-3->1];[-2->2];[1->1];[2->2]"] ; 
"3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost" -> "0:B(x,y),A(x,y),Ghost->Ghost"[label ="[1->0];[2->1]"] ; 
"3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost" -> "1:Ghost->B(x,y),A(x,y),Ghost"[label ="[1->1];[2->2]"] ; 
"3:C(x~u!2,y~p),Ghost->C(x~u,y~p),B(y),A(y),Ghost" -> "2:C(x~u,y~p),B(y),A(y),Ghost->C(x~u!2,y~p),Ghost"[label ="[1->1];[2->2]"] ; 
}
